<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="clientGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#e3f2fd;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1976d2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="registryGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#e8f5e8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4caf50;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="storageGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#fff3e0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f57c00;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="#fafafa"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#333">Docker Registry 아키텍처</text>
  
  <!-- Client Layer -->
  <g id="clientLayer">
    <rect x="50" y="70" width="700" height="80" fill="url(#clientGradient)" stroke="#1976d2" stroke-width="2" rx="10"/>
    <text x="400" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#fff">클라이언트 계층</text>
    
    <!-- Docker Clients -->
    <rect x="80" y="110" width="100" height="30" fill="#fff" stroke="#1976d2" stroke-width="1" rx="5"/>
    <text x="130" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">Docker CLI</text>
    
    <rect x="200" y="110" width="100" height="30" fill="#fff" stroke="#1976d2" stroke-width="1" rx="5"/>
    <text x="250" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">CI/CD Pipeline</text>
    
    <rect x="320" y="110" width="100" height="30" fill="#fff" stroke="#1976d2" stroke-width="1" rx="5"/>
    <text x="370" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">Kubernetes</text>
    
    <rect x="440" y="110" width="100" height="30" fill="#fff" stroke="#1976d2" stroke-width="1" rx="5"/>
    <text x="490" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">Docker Desktop</text>
    
    <rect x="560" y="110" width="100" height="30" fill="#fff" stroke="#1976d2" stroke-width="1" rx="5"/>
    <text x="610" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">Containerd</text>
  </g>
  
  <!-- Registry Layer -->
  <g id="registryLayer">
    <rect x="50" y="200" width="700" height="200" fill="url(#registryGradient)" stroke="#4caf50" stroke-width="2" rx="10"/>
    <text x="400" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#fff">Registry 서비스 계층</text>
    
    <!-- Docker Hub -->
    <rect x="80" y="250" width="120" height="60" fill="#fff" stroke="#4caf50" stroke-width="2" rx="8"/>
    <text x="140" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">Docker Hub</text>
    <text x="140" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">공개 레지스트리</text>
    <text x="140" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">hub.docker.com</text>
    
    <!-- Private Registry -->
    <rect x="220" y="250" width="120" height="60" fill="#fff" stroke="#4caf50" stroke-width="2" rx="8"/>
    <text x="280" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">Private Registry</text>
    <text x="280" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">온프레미스</text>
    <text x="280" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">registry:2</text>
    
    <!-- AWS ECR -->
    <rect x="360" y="250" width="120" height="60" fill="#fff" stroke="#4caf50" stroke-width="2" rx="8"/>
    <text x="420" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">AWS ECR</text>
    <text x="420" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">클라우드 레지스트리</text>
    <text x="420" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">*.dkr.ecr.*.amazonaws.com</text>
    
    <!-- Harbor -->
    <rect x="500" y="250" width="120" height="60" fill="#fff" stroke="#4caf50" stroke-width="2" rx="8"/>
    <text x="560" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">Harbor</text>
    <text x="560" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">엔터프라이즈</text>
    <text x="560" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">goharbor.io</text>
    
    <!-- Registry Components -->
    <rect x="80" y="330" width="540" height="50" fill="#e8f5e8" stroke="#4caf50" stroke-width="1" rx="5"/>
    <text x="350" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">Registry 핵심 구성요소</text>
    <text x="350" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">HTTP API • 인증/권한 • 메타데이터 관리 • 이미지 검증 • 웹훅</text>
  </g>
  
  <!-- Storage Layer -->
  <g id="storageLayer">
    <rect x="50" y="450" width="700" height="100" fill="url(#storageGradient)" stroke="#f57c00" stroke-width="2" rx="10"/>
    <text x="400" y="475" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#fff">스토리지 백엔드</text>
    
    <!-- Storage Options -->
    <rect x="80" y="490" width="120" height="40" fill="#fff" stroke="#f57c00" stroke-width="1" rx="5"/>
    <text x="140" y="510" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">Local Filesystem</text>
    
    <rect x="220" y="490" width="120" height="40" fill="#fff" stroke="#f57c00" stroke-width="1" rx="5"/>
    <text x="280" y="510" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">AWS S3</text>
    
    <rect x="360" y="490" width="120" height="40" fill="#fff" stroke="#f57c00" stroke-width="1" rx="5"/>
    <text x="420" y="510" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">Azure Blob</text>
    
    <rect x="500" y="490" width="120" height="40" fill="#fff" stroke="#f57c00" stroke-width="1" rx="5"/>
    <text x="560" y="510" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">Google Cloud</text>
  </g>
  
  <!-- Data Flow Arrows -->
  <g id="dataFlow">
    <!-- Push/Pull arrows -->
    <path d="M 200 160 L 200 190" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="210" y="180" font-family="Arial, sans-serif" font-size="10" fill="#666">push</text>
    
    <path d="M 250 190 L 250 160" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="260" y="180" font-family="Arial, sans-serif" font-size="10" fill="#666">pull</text>
    
    <!-- Storage arrows -->
    <path d="M 350 410 L 350 440" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="360" y="430" font-family="Arial, sans-serif" font-size="10" fill="#666">store</text>
    
    <path d="M 450 440 L 450 410" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="460" y="430" font-family="Arial, sans-serif" font-size="10" fill="#666">retrieve</text>
  </g>
  
  <!-- Security Features -->
  <rect x="650" y="320" width="120" height="60" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="8"/>
  <text x="710" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#7b1fa2">보안 기능</text>
  <text x="710" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#7b1fa2">• TLS/HTTPS</text>
  <text x="710" y="368" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#7b1fa2">• 인증/권한</text>
  
  <!-- Performance Features -->
  <rect x="50" y="320" width="120" height="60" fill="#e1f5fe" stroke="#0277bd" stroke-width="2" rx="8"/>
  <text x="110" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#0277bd">성능 기능</text>
  <text x="110" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#0277bd">• 레이어 캐싱</text>
  <text x="110" y="368" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#0277bd">• 압축/최적화</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
</svg>