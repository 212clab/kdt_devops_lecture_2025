<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="550" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="pipelineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#e8f5e8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4caf50;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="scanGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#fff3e0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f57c00;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="securityGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ffebee;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f44336;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="550" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#333">컨테이너 보안 스캐닝 파이프라인</text>
  
  <!-- Pipeline Flow -->
  <g id="pipelineFlow">
    <!-- Source Code -->
    <rect x="50" y="80" width="120" height="60" fill="url(#pipelineGradient)" stroke="#4caf50" stroke-width="2" rx="8"/>
    <text x="110" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#fff">소스 코드</text>
    <text x="110" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">Git Repository</text>
    
    <!-- Build Stage -->
    <rect x="200" y="80" width="120" height="60" fill="url(#pipelineGradient)" stroke="#4caf50" stroke-width="2" rx="8"/>
    <text x="260" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#fff">이미지 빌드</text>
    <text x="260" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">Docker Build</text>
    
    <!-- Security Scanning -->
    <rect x="350" y="80" width="120" height="60" fill="url(#scanGradient)" stroke="#f57c00" stroke-width="2" rx="8"/>
    <text x="410" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#fff">보안 스캔</text>
    <text x="410" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">Multi-Scanner</text>
    
    <!-- Security Gate -->
    <rect x="500" y="80" width="120" height="60" fill="url(#securityGradient)" stroke="#f44336" stroke-width="2" rx="8"/>
    <text x="560" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#fff">보안 게이트</text>
    <text x="560" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">Policy Check</text>
    
    <!-- Deploy -->
    <rect x="650" y="80" width="120" height="60" fill="url(#pipelineGradient)" stroke="#4caf50" stroke-width="2" rx="8"/>
    <text x="710" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#fff">배포</text>
    <text x="710" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">Production</text>
  </g>
  
  <!-- Scanning Tools -->
  <g id="scanningTools">
    <text x="450" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">보안 스캐닝 도구</text>
    
    <!-- Trivy -->
    <rect x="50" y="200" width="150" height="80" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="8"/>
    <text x="125" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1976d2">Trivy</text>
    <text x="125" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• 취약점 스캔</text>
    <text x="125" y="258" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• 시크릿 검사</text>
    <text x="125" y="271" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• 설정 검증</text>
    
    <!-- Docker Scout -->
    <rect x="220" y="200" width="150" height="80" fill="#e8f5e8" stroke="#4caf50" stroke-width="2" rx="8"/>
    <text x="295" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#4caf50">Docker Scout</text>
    <text x="295" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• CVE 분석</text>
    <text x="295" y="258" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• 권장사항</text>
    <text x="295" y="271" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• 베이스 이미지 비교</text>
    
    <!-- Snyk -->
    <rect x="390" y="200" width="150" height="80" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="8"/>
    <text x="465" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#7b1fa2">Snyk</text>
    <text x="465" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• 의존성 분석</text>
    <text x="465" y="258" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• 라이선스 검사</text>
    <text x="465" y="271" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• 컨테이너 스캔</text>
    
    <!-- Clair -->
    <rect x="560" y="200" width="150" height="80" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="8"/>
    <text x="635" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f57c00">Clair</text>
    <text x="635" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• 정적 분석</text>
    <text x="635" y="258" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• API 기반</text>
    <text x="635" y="271" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• 확장 가능</text>
  </g>
  
  <!-- Security Layers -->
  <g id="securityLayers">
    <text x="450" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">보안 검사 계층</text>
    
    <!-- Application Layer -->
    <rect x="100" y="340" width="600" height="30" fill="#ffcdd2" stroke="#d32f2f" stroke-width="1" rx="5"/>
    <text x="400" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">애플리케이션 계층: 코드 취약점, 시크릿, 설정 오류</text>
    
    <!-- Container Layer -->
    <rect x="100" y="380" width="600" height="30" fill="#fff3e0" stroke="#f57c00" stroke-width="1" rx="5"/>
    <text x="400" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">컨테이너 계층: 이미지 취약점, 패키지 버전, 라이선스</text>
    
    <!-- Runtime Layer -->
    <rect x="100" y="420" width="600" height="30" fill="#e8f5e8" stroke="#4caf50" stroke-width="1" rx="5"/>
    <text x="400" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">런타임 계층: 권한 설정, 네트워크 정책, 리소스 제한</text>
    
    <!-- Infrastructure Layer -->
    <rect x="100" y="460" width="600" height="30" fill="#e3f2fd" stroke="#1976d2" stroke-width="1" rx="5"/>
    <text x="400" y="480" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">인프라 계층: 호스트 보안, 네트워크 분리, 스토리지 암호화</text>
  </g>
  
  <!-- Security Metrics -->
  <g id="securityMetrics">
    <rect x="730" y="200" width="140" height="120" fill="#f5f5f5" stroke="#666" stroke-width="2" rx="8"/>
    <text x="800" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">보안 메트릭</text>
    
    <!-- Critical -->
    <circle cx="750" cy="240" r="8" fill="#f44336"/>
    <text x="765" y="245" font-family="Arial, sans-serif" font-size="10" fill="#333">Critical: 0</text>
    
    <!-- High -->
    <circle cx="750" cy="260" r="8" fill="#ff9800"/>
    <text x="765" y="265" font-family="Arial, sans-serif" font-size="10" fill="#333">High: 2</text>
    
    <!-- Medium -->
    <circle cx="750" cy="280" r="8" fill="#ffeb3b"/>
    <text x="765" y="285" font-family="Arial, sans-serif" font-size="10" fill="#333">Medium: 5</text>
    
    <!-- Low -->
    <circle cx="750" cy="300" r="8" fill="#4caf50"/>
    <text x="765" y="305" font-family="Arial, sans-serif" font-size="10" fill="#333">Low: 12</text>
  </g>
  
  <!-- Flow Arrows -->
  <g id="flowArrows">
    <path d="M 170 110 L 190 110" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M 320 110 L 340 110" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M 470 110 L 490 110" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M 620 110 L 640 110" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <!-- Scan connection -->
    <path d="M 410 150 L 410 190" stroke="#f57c00" stroke-width="2" marker-end="url(#arrowhead)"/>
  </g>
  
  <!-- Pass/Fail indicators -->
  <g id="passFailIndicators">
    <!-- Pass -->
    <circle cx="580" cy="50" r="15" fill="#4caf50"/>
    <text x="580" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#fff">✓</text>
    <text x="580" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4caf50">PASS</text>
    
    <!-- Fail -->
    <circle cx="540" cy="50" r="15" fill="#f44336"/>
    <text x="540" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#fff">✗</text>
    <text x="540" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#f44336">FAIL</text>
  </g>
  
  <!-- Bottom info -->
  <rect x="50" y="510" width="800" height="30" fill="#e8f5e8" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="450" y="530" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4caf50">자동화된 보안 파이프라인: 지속적 스캔 • 정책 기반 게이트 • 실시간 모니터링</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
</svg>